// ==UserScript==
// @name         Auto Bing Search 
// @namespace    http://tampermonkey.net/
// @version      1.7
// @description  Führt genau 60 zufällige Suchen auf Bing aus mit zufälligen Verzögerungen zwischen 1 und 5 Sekunden, um Blockierungen zu vermeiden.
// @author       Redhead420
// @include      *bing.com/*
// @grant        none
// @updateURL    https://raw.githubusercontent.com/Redheadx420/Bing-Auto-Search/main/Tampermonkey%20Bing%20Auto%20Search
// @downloadURL  https://raw.githubusercontent.com/Redheadx420/Bing-Auto-Search/main/Tampermonkey%20Bing%20Auto%20Search
// ==/UserScript==

(function() {
    'use strict';

    console.log("Version 1.7: Skript erfolgreich gestartet!");

    // Pool von mindestens 250 zufälligen Suchanfragen
    const searchTerms = [
        "Aktuelle Nachrichten", "Wettervorhersage", "Technologie Trends", "Neues Auto", "Neueste Filme", "Top Bücher",
        "Beliebte Musik", "Reiseziele", "Gesundheitstipps", "Sportergebnisse", "Politik Updates", "Smartphone Trends",
        "Elektromobilität", "Künstliche Intelligenz", "SpaceX Nachrichten", "Erneuerbare Energien", "Essen Rezepte",
        // Füge hier weitere sinnvolle und unterschiedliche Suchbegriffe hinzu
        // Sicherstellen, dass der Pool mindestens 250 Begriffe enthält
    ];

    // Anzahl der durchzuführenden Suchen: immer genau 60
    const searchCount = 60;

    // Zähler für die durchgeführten Suchen
    let searchesPerformed = 0;

    // Shuffle-Funktion zum zufälligen Mischen des Arrays
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    // Mischen der Suchbegriffe
    shuffleArray(searchTerms);
    const selectedSearchTerms = searchTerms.slice(0, searchCount);

    // Zähler für die durchgeführten Suchen
    let searchesPerformed = 0;

    // Funktion zum Starten einer neuen Suche
  function startSearch() {
        if (searchesPerformed >= searchCount) {
            console.log("Alle 60 Suchen wurden abgeschlossen.");
            return;
        }

        const searchQuery = selectedSearchTerms[searchesPerformed];
        const searchBox = document.querySelector('input[name="q"]');

        if (searchBox) {
            searchBox.value = searchQuery;
            const searchForm = document.querySelector('form');
            if (searchForm) {
                const delay = Math.random() * 3999 + 1000; // Zwischen 1.000 und 4.999 Millisekunden warten
                setTimeout(() => {
                    searchForm.submit();
                    searchesPerformed++;
                    console.log(`Suche ${searchesPerformed}/${searchCount}: ${searchQuery} (Verzögerung: ${(delay / 1000).toFixed(2)} Sekunden)`);
                    
                    // Schätzung, wann die 60 Suchen abgeschlossen sein werden
                    const remainingSearches = searchCount - searchesPerformed;
                    const estimatedTimeRemaining = (remainingSearches * 2.5).toFixed(2); // Durchschnittliche Verzögerung von 2,5 Sekunden
                    console.log(`Verbleibende Suchen: ${remainingSearches}. Geschätzte Zeit bis Abschluss: ca. ${estimatedTimeRemaining} Sekunden.`);
                }, delay);
            }
        }
    }

    // Funktion für die Automatisierung
    function autoSearch() {
        if (searchesPerformed < searchCount) {
            const delay = Math.random() * 3999 + 1000; // Zwischen 1.000 und 4.999 Millisekunden Verzögerung
            setTimeout(() => {
                startSearch();
                autoSearch(); // Wiederhole den Vorgang für die nächste Suche
            }, delay);
        }
    }

    // Starte die Automatisierung, wenn die Seite geladen ist
    window.addEventListener('load', () => {
        setTimeout(autoSearch, 3000); // Warte 3 Sekunden, bevor die erste Suche startet
    });

})();
